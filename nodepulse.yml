# NodePulse Agent Configuration

server:
  # The endpoint to send metrics to
  endpoint: "https://api.nodepulse.io/metrics"

  # HTTP request timeout
  # If the server doesn't respond within this time, the request fails
  # and the metrics are saved to the local buffer
  timeout: 3s

agent:
  # Unique server ID (UUID format)
  # If not set or left as placeholder, a UUID will be auto-generated on first run
  # and saved to /var/lib/node-pulse/server_id for persistence
  # You can also manually set one: uuidgen (Linux/Mac) or New-Guid (PowerShell)
  server_id: "00000000-0000-0000-0000-000000000000"

  # Metrics collection interval
  # Allowed values: 5s, 10s, 30s, 1m
  interval: 5s

buffer:
  # Enable local buffering of failed reports
  enabled: true

  # Directory to store buffered reports
  # Each hour gets its own JSONL file (e.g., 2025-10-13-14.jsonl)
  path: "/var/lib/node-pulse/buffer"

  # How long to keep buffered reports (in hours)
  # Files older than this are automatically deleted
  retention_hours: 48
